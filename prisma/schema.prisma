generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["referentialIntegrity"]
}

datasource db {
    provider     = "mysql"
    url          = env("DATABASE_URL")
    relationMode = "prisma"
}

model Club {
    id       String     @id @default(uuid())
    name     String     @unique @db.VarChar(100)
    email    String     @unique @db.VarChar(100)
    password String
    RoomBook RoomBook[]
}

model Admin {
    id       String     @id @default(uuid())
    name     String     @unique @db.VarChar(100)
    email    String     @unique @db.VarChar(100)
    password String
    RoomBook RoomBook[]
}

model Room {
    id         String @id @default(uuid())
    blockName  String @unique @db.VarChar(2)
    roomNumber String
}

model AvailableRoom {
    id         String @id @default(uuid())
    blockName  String @unique @db.VarChar(2)
    roomNumber String
    date       String 
}

model RoomBook {
    id            String @id @default(uuid())
    club          Club   @relation(fields: [clubId], references: [id])
    blockName     String @unique @db.VarChar(2)
    number        String
    time          Float
    duration      Float
    signedBy      String @db.VarChar(100)
    approvedBy    Admin  @relation(fields: [adminId], references: [id])
    clubId        String @db.VarChar(100)
    roomBlockName String @db.VarChar(2)
    adminId       String
}
